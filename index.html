<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AnyWave ‚Äì Fit Any Music to your Edit</title>
    <meta name="description" content="Remap any moment in your audio to sync perfectly with your video. Stretch, compress, or realign music to hit your cues without losing the groove.">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sora:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="icon.png">
    
    <!-- Disable browser scroll restoration -->
    <script>
        if ('scrollRestoration' in history) {
            history.scrollRestoration = 'manual';
        }
        window.scrollTo(0, 0);
    </script>
    
    <!-- ============================================
         COOKIE CONSENT MODULE
         GDPR-compliant: Analytics only loads after explicit consent.
         Storage: localStorage (consent persists 180 days, dismiss = 7 days)
         ============================================ -->
    <script>
        /**
         * CookieConsent Module
         * - Manages user consent for analytics tracking
         * - Complies with EU cookie law (no tracking before consent)
         * - Stores preference in localStorage
         */
        const CookieConsent = (function() {
            const STORAGE_KEY = 'anywave_analytics_consent';
            const CONSENT_DURATION_DAYS = 180;  // How long accept/reject lasts
            const DISMISS_DURATION_DAYS = 7;    // How long dismiss hides banner
            
            // Consent states
            const CONSENT_ACCEPTED = 'accepted';
            const CONSENT_REJECTED = 'rejected';
            const CONSENT_DISMISSED = 'dismissed';  // "√ó" clicked - treat as soft reject
            
            /**
             * Get stored consent data
             * @returns {Object|null} { status: string, timestamp: number } or null
             */
            function getStoredConsent() {
                try {
                    const data = localStorage.getItem(STORAGE_KEY);
                    return data ? JSON.parse(data) : null;
                } catch (e) {
                    console.warn('CookieConsent: Could not read localStorage', e);
                    return null;
                }
            }
            
            /**
             * Store consent decision
             * @param {string} status - 'accepted', 'rejected', or 'dismissed'
             */
            function storeConsent(status) {
                try {
                    localStorage.setItem(STORAGE_KEY, JSON.stringify({
                        status: status,
                        timestamp: Date.now()
                    }));
                } catch (e) {
                    console.warn('CookieConsent: Could not write to localStorage', e);
                }
            }
            
            /**
             * Check if stored consent has expired
             * @param {Object} consent - Stored consent object
             * @returns {boolean}
             */
            function isConsentExpired(consent) {
                if (!consent || !consent.timestamp) return true;
                
                const daysElapsed = (Date.now() - consent.timestamp) / (1000 * 60 * 60 * 24);
                
                // Dismissed expires after 7 days (shows banner again)
                // Accept/Reject expire after 180 days
                if (consent.status === CONSENT_DISMISSED) {
                    return daysElapsed > DISMISS_DURATION_DAYS;
                }
                return daysElapsed > CONSENT_DURATION_DAYS;
            }
            
            /**
             * Check if analytics should be loaded
             * Only true if user explicitly accepted AND consent hasn't expired
             * @returns {boolean}
             */
            function shouldLoadAnalytics() {
                const consent = getStoredConsent();
                if (!consent || isConsentExpired(consent)) return false;
                return consent.status === CONSENT_ACCEPTED;
            }
            
            /**
             * Check if banner should be shown
             * @returns {boolean}
             */
            function shouldShowBanner() {
                const consent = getStoredConsent();
                // Show banner if no consent stored OR consent has expired
                return !consent || isConsentExpired(consent);
            }
            
            /**
             * Accept consent - enables analytics
             */
            function accept() {
                storeConsent(CONSENT_ACCEPTED);
                hideBanner();
                // Initialize PostHog and track consent event
                if (typeof initPostHog === 'function') {
                    initPostHog(true); // true = just granted consent
                }
            }
            
            /**
             * Reject consent - no analytics
             */
            function reject() {
                storeConsent(CONSENT_REJECTED);
                hideBanner();
            }
            
            /**
             * Dismiss banner (√ó) - treat as soft rejection
             * Per GDPR best practice: closing without choice ‚â† consent
             * Banner will reappear after 7 days to give user another chance
             */
            function dismiss() {
                storeConsent(CONSENT_DISMISSED);
                hideBanner();
            }
            
            /**
             * Hide the consent banner
             */
            function hideBanner() {
                const banner = document.getElementById('cookieConsentBanner');
                const overlay = document.getElementById('cookieOverlay');
                if (banner) {
                    banner.setAttribute('aria-hidden', 'true');
                    banner.classList.add('cookie-banner--hidden');
                }
                if (overlay) {
                    overlay.classList.add('cookie-overlay--hidden');
                }
            }
            
            /**
             * Show the consent banner
             */
            function showBanner() {
                const banner = document.getElementById('cookieConsentBanner');
                const overlay = document.getElementById('cookieOverlay');
                if (banner) {
                    banner.setAttribute('aria-hidden', 'false');
                    banner.classList.remove('cookie-banner--hidden');
                    // Focus first interactive element for accessibility
                    const firstButton = banner.querySelector('button');
                    if (firstButton) {
                        setTimeout(() => firstButton.focus(), 100);
                    }
                }
                if (overlay) {
                    overlay.classList.remove('cookie-overlay--hidden');
                }
            }
            
            /**
             * Toggle preferences panel visibility
             */
            let analyticsEnabled = true; // Default to on
            
            function togglePreferences() {
                const prefs = document.getElementById('cookiePreferences');
                if (prefs) {
                    prefs.classList.toggle('cookie-banner__preferences--visible');
                }
            }
            
            /**
             * Toggle analytics preference
             */
            function toggleAnalytics() {
                analyticsEnabled = !analyticsEnabled;
                const toggle = document.getElementById('analyticsToggle');
                if (toggle) {
                    toggle.classList.toggle('cookie-banner__toggle--on', analyticsEnabled);
                }
            }
            
            /**
             * Save preferences - accept or reject based on toggle state
             */
            function savePreferences() {
                if (analyticsEnabled) {
                    accept();
                } else {
                    reject();
                }
            }
            
            /**
             * Initialize the consent banner
             */
            function init() {
                if (shouldShowBanner()) {
                    showBanner();
                } else if (shouldLoadAnalytics()) {
                    // User already consented, load analytics
                    if (typeof initPostHog === 'function') {
                        initPostHog(false); // false = returning user
                    }
                }
                // If rejected/dismissed and not expired, do nothing (no banner, no analytics)
            }
            
            // Public API
            return {
                shouldLoadAnalytics,
                shouldShowBanner,
                accept,
                reject,
                dismiss,
                init,
                togglePreferences,
                toggleAnalytics,
                savePreferences
            };
        })();
    </script>
    
    <!-- ============================================
         POSTHOG ANALYTICS (Consent-Gated)
         PostHog is ONLY initialized after user accepts cookies.
         This complies with GDPR/ePrivacy requirements.
         ============================================ -->
    <script>
        // PostHog configuration
        const POSTHOG_API_KEY = 'phc_UQ72wbfMQnS4IWPhPI28A0zeHQJjBW15oCzMeb1vyx8';
        const POSTHOG_API_HOST = 'https://us.i.posthog.com';
        
        // Track if PostHog has been initialized this session
        let posthogInitialized = false;
        
        /**
         * Initialize PostHog analytics
         * @param {boolean} justGrantedConsent - True if user just clicked Accept
         */
        function initPostHog(justGrantedConsent = false) {
            if (posthogInitialized) return;
            
            console.log('üç™ Consent granted - initializing PostHog...');
            
            // Load PostHog snippet
            !function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.async=!0,p.src=s.api_host.replace('.i.posthog.com','-assets.i.posthog.com')+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="init capture register register_once register_for_session unregister unregister_for_session getFeatureFlag getFeatureFlagPayload isFeatureEnabled reloadFeatureFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSessionId getSurveys getActiveMatchingSurveys renderSurvey canRenderSurvey getNextSurveyStep identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException loadToolbar get_property getSessionProperty createPersonProfile opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing clear_opt_in_out_capturing debug".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
            
            // Initialize PostHog
            posthog.init(POSTHOG_API_KEY, {
                api_host: POSTHOG_API_HOST,
                persistence: 'localStorage',
                autocapture: false,
                capture_pageview: false
            });
            
            posthogInitialized = true;
            
            // If user just granted consent, track that event first
            if (justGrantedConsent) {
                // Wait for PostHog to be ready, then track consent and page view
                setTimeout(() => {
                    posthog.capture('consent_granted', { source: 'cookie_banner' });
                    console.log('PostHog: consent_granted tracked');
                    initTracking();
                }, 300);
            } else {
                // Returning user who already consented
                setTimeout(initTracking, 200);
            }
        }
    </script>
    
    <style>
        :root {
            /* Brand colors from logo */
            --peach-orange: #FF6B35;
            --peach-orange-light: #FF8B5E;
            --peach-orange-dark: #E55A28;
            --wave-blue: #4A90D9;
            --wave-blue-light: #6BA5E5;
            --wave-blue-dark: #3A7BC4;
            
            /* Light theme (default) - page background */
            --bg-primary: #FFFFFF;
            --bg-secondary: #F5F5F7;
            --bg-tertiary: #EAEAEC;
            
            /* Light theme cards */
            --bg-card: #2D2D3A;
            --bg-card-secondary: #252530;
            
            /* Light theme text on white background */
            --text-primary: #1a1a1a;
            --text-secondary: #555555;
            --text-muted: #888888;
            
            /* Text on dark cards */
            --text-on-card: #FFFFFF;
            --text-on-card-secondary: #A0A0B0;
            
            /* Border colors */
            --border-light: rgba(0, 0, 0, 0.1);
            --border-card: rgba(255, 255, 255, 0.05);
            
            /* Gradients */
            --gradient-hero: linear-gradient(135deg, var(--peach-orange) 0%, var(--wave-blue) 100%);
            --gradient-card: linear-gradient(145deg, rgba(255, 107, 53, 0.08) 0%, rgba(74, 144, 217, 0.08) 100%);
            --gradient-glow: radial-gradient(ellipse at center, rgba(255, 107, 53, 0.08) 0%, transparent 70%);
            
            /* Section padding system */
            --section-pad-x: 2rem;
            --section-pad-y: clamp(3.5rem, 6vw, 7rem);
            --section-pad-y-tight: clamp(2.5rem, 4.5vw, 5rem);
            
            /* Hero safe offset (fixed nav) */
            --nav-h: 56px;
            --hero-pad-top: 16px;
            --hero-pad-bottom: 24px;
        }
        
        /* Dark theme */
        [data-theme="dark"] {
            --bg-primary: #0A0A0F;
            --bg-secondary: #12121A;
            --bg-tertiary: #1A1A25;
            
            --bg-card: #1E1E2A;
            --bg-card-secondary: #16161F;
            
            --text-primary: #FFFFFF;
            --text-secondary: #A0A0B0;
            --text-muted: #6B6B7B;
            
            --text-on-card: #FFFFFF;
            --text-on-card-secondary: #A0A0B0;
            
            --border-light: rgba(255, 255, 255, 0.08);
            --border-card: rgba(255, 255, 255, 0.08);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            scroll-behavior: smooth;
            overflow-x: hidden;
            width: 100%;
            /* Offset scroll targets to account for fixed nav */
            scroll-padding-top: var(--nav-h);
        }
        
        body {
            font-family: 'Sora', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
            width: 100%;
            max-width: 100%;
        }
        
        /* ============================================
           NAVIGATION
        ============================================ */
        nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            padding: 0.65rem 2rem;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border-light);
            transition: all 0.3s ease;
            overflow-x: hidden;
            width: 100%;
        }
        
        [data-theme="dark"] nav {
            background: rgba(10, 10, 15, 0.9);
        }
        
        nav.scrolled {
            padding: 0.75rem 2rem;
            background: rgba(255, 255, 255, 0.98);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
        }
        
        [data-theme="dark"] nav.scrolled {
            background: rgba(10, 10, 15, 0.98);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            text-decoration: none;
        }
        
        .logo img {
            width: 40px;
            height: 40px;
            transition: width 0.3s ease, height 0.3s ease;
        }
        
        nav.scrolled .logo img {
            width: 30px;
            height: 30px;
        }
        
        .logo-text {
            font-weight: 600;
            font-size: 1.25rem;
            background: var(--gradient-hero);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            transition: font-size 0.3s ease;
        }
        
        nav.scrolled .logo-text {
            font-size: 1rem;
        }
        
        .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
        }
        
        .nav-links a {
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            transition: color 0.2s ease;
        }
        
        .nav-links a:hover {
            color: var(--text-primary);
        }
        
        .nav-cta {
            background: var(--gradient-hero);
            color: white !important;
            padding: 0.6rem 1.25rem;
            border-radius: 8px;
            font-weight: 600;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        
        .nav-cta:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 107, 53, 0.3);
        }
        
        /* Theme Toggle */
        .theme-toggle {
            background: var(--bg-secondary);
            border: 1px solid var(--border-light);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            margin-left: 0.5rem;
            position: relative;
            overflow: hidden;
        }
        
        .theme-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
        }
        
        .theme-icon {
            font-size: 1.1rem;
            position: absolute;
            transition: all 0.3s ease;
        }
        
        .theme-icon.light {
            opacity: 1;
            transform: rotate(0deg);
        }
        
        .theme-icon.dark {
            opacity: 0;
            transform: rotate(-90deg);
        }
        
        [data-theme="dark"] .theme-icon.light {
            opacity: 0;
            transform: rotate(90deg);
        }
        
        [data-theme="dark"] .theme-icon.dark {
            opacity: 1;
            transform: rotate(0deg);
        }
        
        /* ============================================
           HERO SECTION
        ============================================ */
        .hero {
            min-height: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            position: relative;
            margin-top: var(--nav-h);
            padding: 12px 2rem 12px;
            overflow: visible;
        }
        
        .hero-bg {
            position: absolute;
            inset: 0;
            z-index: 0;
        }
        
        .hero-glow {
            position: absolute;
            top: -20%;
            left: 50%;
            transform: translateX(-50%);
            width: 150%;
            height: 80%;
            background: var(--gradient-glow);
            filter: blur(80px);
            opacity: 0.6;
        }
        
        .grid-pattern {
            position: absolute;
            inset: 0;
            background-image: 
                linear-gradient(rgba(255, 107, 53, 0.06) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 107, 53, 0.06) 1px, transparent 1px);
            background-size: 60px 60px;
            mask-image: radial-gradient(ellipse at center, black 0%, transparent 70%);
        }
        
        .hero-content {
            max-width: 980px;
            width: 100%;
            text-align: center;
            position: relative;
            z-index: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 0;
        }
        
        .badge {
            display: inline-flex;
            align-items: center;
            gap: 0.35rem;
            background: rgba(255, 107, 53, 0.1);
            border: 1px solid rgba(255, 107, 53, 0.2);
            padding: 0.2rem 0.6rem;
            border-radius: 50px;
            font-size: 0.65rem;
            color: var(--peach-orange-light);
            margin-bottom: 12px;
            animation: fadeInUp 0.8s ease;
        }
        
        .badge::before {
            content: '‚ú®';
        }
        
        h1 {
            font-size: clamp(36px, 4vw, 52px);
            font-weight: 700;
            line-height: 1.04;
            margin: 0 0 14px 0;
            color: white;
            animation: fadeInUp 0.8s ease 0.1s both;
        }
        
        h1 .gradient,
        .hero-tagline .gradient {
            background: var(--gradient-hero);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .hero-tagline {
            font-size: clamp(1.75rem, 3.5vw, 2.5rem);
            font-weight: 600;
            color: var(--text-primary);
            margin: 1rem 0 16px 0;
            letter-spacing: -0.01em;
            animation: fadeInUp 0.8s ease 0.25s both;
        }
        
        .hero-subtitle {
            font-size: 1rem;
            color: var(--text-secondary);
            max-width: 680px;
            width: 100%;
            margin: 0 0 12px 0;
            line-height: 1.5;
            animation: fadeInUp 0.8s ease 0.4s both;
        }
        
        .hero-ctas {
            display: flex;
            gap: 0.9rem;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 4px;
            animation: fadeInUp 0.8s ease 0.5s both;
        }
        
        .hero-note {
            font-size: 0.8rem;
            color: #888888;
            margin-top: 0;
            font-weight: 400;
            animation: fadeInUp 0.8s ease 0.7s both;
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            height: 48px;
            padding: 0 24px;
            border-radius: 11px;
            font-weight: 600;
            font-size: 0.95rem;
            text-decoration: none;
            transition: all 0.3s ease;
            cursor: pointer;
            border: none;
        }
        
        .btn-primary {
            background: var(--gradient-hero);
            color: white;
            box-shadow: 0 4px 20px rgba(255, 107, 53, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 35px rgba(255, 107, 53, 0.4);
        }
        
        .btn-secondary {
            background: transparent;
            color: var(--text-primary);
            border: 2px solid var(--border-light);
        }
        
        .btn-secondary:hover {
            background: var(--bg-secondary);
            border-color: var(--text-secondary);
        }
        
        .hero-visual {
            margin: 0 0 18px 0;
            position: relative;
            animation: fadeInUp 0.8s ease 0.3s both;
            width: 100%;
            max-width: 780px;
            max-height: 380px;
        }
        
        .app-screenshot {
            background: var(--bg-card);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            padding: 0.25rem;
            box-shadow: 
                0 25px 50px -12px rgba(0, 0, 0, 0.5),
                0 0 0 1px rgba(255, 107, 53, 0.1);
            position: relative;
            overflow: hidden;
        }
        
        .app-screenshot::before {
            content: '';
            position: absolute;
            inset: 0;
            background: var(--gradient-card);
            opacity: 0.5;
        }
        
        .waveform-demo {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            border-radius: 12px;
        }
        
        .demo-video {
            width: 100%;
            height: auto;
            max-height: 380px;
            object-fit: contain;
            border-radius: 12px;
            display: block;
            cursor: pointer;
        }
        
        .video-sound-toggle {
            position: absolute;
            bottom: 18px;
            right: 18px;
            background: rgba(0, 0, 0, 0.65);
            color: #ffffff;
            width: 52px;
            height: 36px;
            padding: 0;
            border-radius: 18px;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(4px);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            animation: subtlePulse 2s ease-in-out 3;
            overflow: hidden;
        }
        
        .video-sound-toggle:hover {
            background: rgba(0, 0, 0, 0.8);
        }
        
        .video-sound-toggle:focus {
            outline: 2px solid rgba(255, 107, 53, 0.8);
            outline-offset: 2px;
        }
        
        .video-sound-toggle.unmuted {
            background: rgba(255, 107, 53, 0.85);
            animation: none;
        }
        
        .video-sound-toggle.faded {
            opacity: 0.4;
            transition: opacity 0.4s ease;
        }
        
        .video-sound-toggle.faded:hover {
            opacity: 1;
        }
        
        @keyframes subtlePulse {
            0%, 100% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0); }
            50% { box-shadow: 0 0 20px 12px rgba(255, 255, 255, 0.9); }
        }
        
        /* Sound wave bars animation - positioned behind text */
        .sound-bars {
            position: absolute;
            left: 4px;
            right: 4px;
            top: 4px;
            bottom: 4px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            opacity: 0.35;
        }
        
        .sound-bars .bar {
            flex: 1;
            margin: 0 1px;
            background: #ffffff;
            border-radius: 2px;
        }
        
        .sound-bars .bar:nth-child(1) {
            height: 35%;
            animation: soundBar1 0.3s ease-in-out infinite;
        }
        
        .sound-bars .bar:nth-child(2) {
            height: 70%;
            animation: soundBar2 0.35s ease-in-out infinite;
        }
        
        .sound-bars .bar:nth-child(3) {
            height: 50%;
            animation: soundBar3 0.25s ease-in-out infinite;
        }
        
        .sound-bars .bar:nth-child(4) {
            height: 90%;
            animation: soundBar4 0.4s ease-in-out infinite;
        }
        
        .sound-bars .bar:nth-child(5) {
            height: 60%;
            animation: soundBar5 0.28s ease-in-out infinite;
        }
        
        .sound-bars .bar:nth-child(6) {
            height: 45%;
            animation: soundBar1 0.32s ease-in-out infinite;
        }
        
        .sound-bars .bar:nth-child(7) {
            height: 75%;
            animation: soundBar2 0.38s ease-in-out infinite;
        }
        
        .sound-bars .bar:nth-child(8) {
            height: 55%;
            animation: soundBar3 0.33s ease-in-out infinite;
        }
        
        .sound-bars .bar:nth-child(9) {
            height: 80%;
            animation: soundBar4 0.27s ease-in-out infinite;
        }
        
        .sound-bars .bar:nth-child(10) {
            height: 40%;
            animation: soundBar5 0.36s ease-in-out infinite;
        }
        
        @keyframes soundBar1 {
            0%, 100% { height: 35%; }
            50% { height: 80%; }
        }
        
        @keyframes soundBar2 {
            0%, 100% { height: 70%; }
            50% { height: 30%; }
        }
        
        @keyframes soundBar3 {
            0%, 100% { height: 50%; }
            50% { height: 100%; }
        }
        
        @keyframes soundBar4 {
            0%, 100% { height: 90%; }
            50% { height: 40%; }
        }
        
        @keyframes soundBar5 {
            0%, 100% { height: 60%; }
            50% { height: 85%; }
        }
        
        /* Red mute line crossing the waves */
        .mute-line {
            position: absolute;
            left: 6px;
            right: 6px;
            top: 50%;
            height: 3px;
            background: #ff4444;
            transform: translateY(-50%) rotate(-20deg);
            z-index: 2;
            border-radius: 2px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
        }
        
        .video-sound-toggle.unmuted .mute-line {
            display: none;
        }
        
        .video-sound-toggle.unmuted .sound-bars {
            opacity: 0.6;
        }
        
        .waveform-bars {
            display: flex;
            align-items: center;
            gap: 3px;
            height: 100%;
        }
        
        .waveform-bar {
            width: 4px;
            background: var(--gradient-hero);
            border-radius: 2px;
            animation: waveform 1.2s ease-in-out infinite;
        }
        
        @keyframes waveform {
            0%, 100% { transform: scaleY(0.3); }
            50% { transform: scaleY(1); }
        }
        
        /* ============================================
           SOCIAL PROOF
        ============================================ */
        .social-proof {
            padding: var(--section-pad-y-tight) var(--section-pad-x);
            text-align: center;
            border-top: 1px solid rgba(0, 0, 0, 0.08);
            border-bottom: 1px solid rgba(0, 0, 0, 0.08);
            background: var(--bg-secondary);
        }
        
        .social-proof-inline {
            margin-top: 0.5rem;
            text-align: center;
            animation: fadeInUp 0.8s ease 0.6s both;
        }
        
        .social-proof-text {
            color: var(--text-muted);
            font-size: 0.7rem;
            margin-bottom: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }
        
        .daw-logos {
            display: flex;
            gap: 1rem;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            opacity: 1;
        }
        
        .daw-logo {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.7rem;
            color: var(--text-secondary);
            padding: 0.3rem 0.6rem;
            border: 1px solid var(--border-light);
            border-radius: 6px;
        }
        
        /* ============================================
           HOW IT WORKS
        ============================================ */
        .how-it-works {
            padding: var(--section-pad-y) var(--section-pad-x);
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .section-header {
            text-align: center;
            margin-bottom: clamp(2.5rem, 4vw, 4rem);
        }
        
        .section-label {
            color: var(--peach-orange);
            font-size: 0.85rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.15em;
            margin-bottom: 1rem;
        }
        
        h2 {
            font-size: clamp(2rem, 4vw, 3rem);
            font-weight: 700;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }
        
        .section-subtitle {
            color: var(--text-secondary);
            font-size: 1.1rem;
            max-width: 850px;
            margin: 0 auto;
        }
        
        .steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
        }
        
        .step {
            background: var(--bg-card);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 2.5rem;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .step:hover {
            border-color: rgba(255, 107, 53, 0.3);
            transform: translateY(-5px);
        }
        
        .step::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--gradient-hero);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .step:hover::before {
            opacity: 1;
        }
        
        .step-number {
            width: 48px;
            height: 48px;
            background: var(--gradient-hero);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.25rem;
            margin-bottom: 1.5rem;
        }
        
        .step h3 {
            font-size: 1.35rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
        }
        
        .step p {
            color: var(--text-secondary);
            font-size: 0.95rem;
        }
        
        /* ============================================
           FEATURES
        ============================================ */
        .features {
            padding: var(--section-pad-y) var(--section-pad-x);
            background: var(--bg-secondary);
            scroll-margin-top: calc(var(--nav-h) - 120px);
        }
        
        .features-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2.5rem;
            max-width: 1100px;
            margin: 0 auto;
        }
        
        .feature-card {
            background: var(--bg-card);
            border: 1px solid var(--border-card);
            border-radius: 20px;
            padding: 1.75rem;
            transition: all 0.3s ease;
        }
        
        .feature-card:hover {
            border-color: rgba(255, 107, 53, 0.4);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }
        
        .feature-icon {
            width: 56px;
            height: 56px;
            background: linear-gradient(135deg, rgba(255, 107, 53, 0.15) 0%, rgba(74, 144, 217, 0.15) 100%);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.75rem;
            margin-bottom: 1rem;
        }
        
        .feature-card h3 {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            min-height: 1.5rem;
            color: var(--text-on-card);
        }
        
        .feature-card p {
            color: var(--text-on-card-secondary);
            font-size: 0.95rem;
            line-height: 1.7;
            margin-bottom: 1rem;
            min-height: 4.1rem; /* Fixed height for 3 lines to align videos */
        }
        
        .feature-video-container {
            margin-top: 1rem;
            border-radius: 12px;
            overflow: hidden;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .feature-video {
            width: 100%;
            height: 100%;
            object-fit: cover; /* Ensures video fills container while maintaining aspect */
            display: block;
            border-radius: 12px;
        }
        
        /* ============================================
           DEMO VISUALIZATION
        ============================================ */
        .demo-section {
            padding: var(--section-pad-y) var(--section-pad-x);
            position: relative;
            overflow: hidden;
        }
        
        .demo-container {
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .demo-visual {
            background: var(--bg-card);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 24px;
            padding: 3rem;
            position: relative;
            margin-top: 3rem;
        }
        
        .timeline-demo {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }
        
        .timeline-track {
            position: relative;
        }
        
        .track-label {
            font-size: 0.85rem;
            color: var(--text-muted);
            margin-bottom: 0.75rem;
            font-family: 'JetBrains Mono', monospace;
        }
        
        .track-waveform {
            height: 60px;
            background: rgba(255, 107, 53, 0.1);
            border-radius: 8px;
            position: relative;
            overflow: hidden;
        }
        
        .track-waveform.source {
            background: rgba(74, 144, 217, 0.1);
        }
        
        .track-waveform svg {
            width: 100%;
            height: 100%;
        }
        
        .connection-lines {
            position: relative;
            height: 40px;
        }
        
        .connection-line {
            position: absolute;
            width: 2px;
            background: var(--gradient-hero);
            opacity: 0.5;
        }
        
        .handle-point {
            width: 12px;
            height: 12px;
            background: var(--peach-orange);
            border-radius: 50%;
            position: absolute;
            transform: translate(-50%, -50%);
            box-shadow: 0 0 15px rgba(255, 107, 53, 0.5);
            animation: pulse 2s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 15px rgba(255, 107, 53, 0.5); }
            50% { box-shadow: 0 0 25px rgba(255, 107, 53, 0.8); }
        }
        
        /* ============================================
           PRICING
        ============================================ */
        .pricing {
            padding: var(--section-pad-y) var(--section-pad-x);
            background: var(--bg-secondary);
        }
        
        .pricing-container {
            max-width: 900px;
            margin: 0 auto;
        }
        
        .pricing-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 2rem;
        }
        
        @media (max-width: 768px) {
            .pricing-grid {
                grid-template-columns: 1fr;
            }
        }
        
        .pricing-card {
            background: var(--bg-card);
            border: 2px solid rgba(255, 107, 53, 0.3);
            border-radius: 24px;
            padding: 3rem;
            text-align: center;
            position: relative;
        }
        
        .pricing-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-hero);
        }
        
        .pricing-popular {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: var(--gradient-hero);
            padding: 0.4rem 1rem;
            border-radius: 50px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        .pricing-name {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        
        .pricing-desc {
            color: var(--text-secondary);
            font-size: 0.95rem;
            margin-bottom: 2rem;
        }
        
        .pricing-amount {
            margin-bottom: 2rem;
        }
        
        .price {
            font-size: 4rem;
            font-weight: 700;
        }
        
        .price-currency {
            font-size: 1.5rem;
            vertical-align: top;
            color: var(--text-secondary);
        }
        
        .price-period {
            color: var(--text-muted);
            font-size: 0.95rem;
        }
        
        .pricing-features {
            list-style: none;
            text-align: left;
            margin-bottom: 2.5rem;
        }
        
        .pricing-features li {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            color: var(--text-secondary);
        }
        
        .pricing-features li:last-child {
            border-bottom: none;
        }
        
        .pricing-features li::before {
            content: '‚úì';
            color: var(--peach-orange);
            font-weight: 700;
        }
        
        .pricing-cta {
            width: 100%;
            font-size: 1.1rem;
            padding: 1.25rem 2rem;
        }
        
        /* ============================================
           FAQ
        ============================================ */
        .faq {
            padding: var(--section-pad-y) var(--section-pad-x);
        }
        
        .faq-container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .faq-item {
            border-bottom: 1px solid rgba(255, 255, 255, 0.08);
        }
        
        .faq-question {
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem 0;
            background: none;
            border: none;
            color: var(--text-primary);
            font-size: 1.1rem;
            font-weight: 500;
            text-align: left;
            cursor: pointer;
            font-family: inherit;
            transition: color 0.2s ease;
        }
        
        .faq-question:hover {
            color: var(--peach-orange);
        }
        
        .faq-icon {
            font-size: 1.5rem;
            color: var(--text-muted);
            transition: transform 0.3s ease;
        }
        
        .faq-item.active .faq-icon {
            transform: rotate(45deg);
        }
        
        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease;
        }
        
        .faq-item.active .faq-answer {
            max-height: 300px;
            padding-bottom: 1.5rem;
        }
        
        .faq-answer p {
            color: var(--text-secondary);
            line-height: 1.8;
        }
        
        /* ============================================
           CTA SECTION
        ============================================ */
        .cta-section {
            padding: 8rem 2rem;
            background: var(--bg-secondary);
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .cta-glow {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at center, rgba(255, 107, 53, 0.1) 0%, transparent 60%);
        }
        
        
        .cta-content {
            position: relative;
            z-index: 1;
            max-width: 700px;
            margin: 0 auto;
        }
        
        .cta-section h2 {
            margin-bottom: 1.5rem;
        }
        
        .cta-section .section-subtitle {
            margin-bottom: 2.5rem;
        }
        
        /* ============================================
           PRICING SECTION
        ============================================ */
        .pricing-section {
            padding: var(--section-pad-y-tight) var(--section-pad-x);
            background: var(--bg-primary);
        }
        
        .pricing-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .pricing-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin: 2.5rem 0 1.5rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            padding-top: 0.5rem;
        }
        
        .pricing-card {
            background: var(--bg-card);
            border: 1px solid var(--border-card);
            border-radius: 16px;
            padding: 1.75rem;
            position: relative;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .pricing-card:hover {
            transform: translateY(-4px);
        }
        
        .pricing-card.featured {
            border: 2px solid var(--peach-orange);
            box-shadow: 0 8px 32px rgba(255, 107, 53, 0.2);
            transform: scale(1.05);
        }
        
        .pricing-card.featured:hover {
            transform: scale(1.05) translateY(-4px);
        }
        
        .plan-badge {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--gradient-hero);
            color: white;
            padding: 0.35rem 1.25rem;
            border-radius: 50px;
            font-size: 0.75rem;
            font-weight: 700;
            letter-spacing: 0.05em;
            box-shadow: 0 4px 12px rgba(255, 107, 53, 0.3);
            white-space: nowrap;
            z-index: 10;
        }
        
        .plan-name {
            font-size: 1.25rem;
            margin-bottom: 0.5rem;
            color: var(--text-on-card);
        }
        
        .plan-price {
            margin-bottom: 0.75rem;
        }
        
        .plan-price .price {
            font-size: 2.5rem;
            font-weight: 700;
            background: var(--gradient-hero);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .plan-price .period {
            color: var(--text-on-card-secondary);
            font-size: 0.9rem;
            margin-left: 0.25rem;
        }
        
        .plan-description {
            color: var(--text-on-card-secondary);
            margin-bottom: 1rem;
            font-size: 0.9rem;
        }
        
        .plan-features {
            list-style: none;
            padding: 0;
            margin: 1.25rem 0;
            text-align: left;
        }
        
        .plan-features li {
            padding: 0.5rem 0;
            color: var(--text-on-card-secondary);
            font-size: 0.9rem;
            border-bottom: 1px solid var(--border-card);
        }
        
        .plan-features li:last-child {
            border-bottom: none;
        }
        
        .plan-note {
            margin-top: 0.75rem;
            font-size: 0.8rem;
            color: var(--text-on-card-secondary);
        }
        
        /* Button styles for dark pricing cards */
        .pricing-card .btn-secondary {
            background: rgba(255, 255, 255, 0.08);
            color: var(--text-on-card);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .pricing-card .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.3);
        }
        
        .pricing-faq {
            text-align: center;
            margin-top: 2rem;
            padding: 1.5rem;
            background: rgba(255, 107, 53, 0.05);
            border-radius: 12px;
            border: 1px solid rgba(255, 107, 53, 0.1);
        }
        
        .faq-note {
            color: var(--text-secondary);
            font-size: 1rem;
            line-height: 1.6;
        }
        
        .faq-note strong {
            color: var(--text-primary);
        }

        /* ============================================
           EMAIL COLLECTION
        ============================================ */
        .email-collection {
            padding: var(--section-pad-y) var(--section-pad-x);
            background: var(--bg-secondary);
            text-align: center;
        }
        
        .email-container {
            max-width: 600px;
            margin: 0 auto;
        }
        
        .countdown-badge {
            display: inline-block;
            background: rgba(255, 107, 53, 0.15);
            border: 1px solid rgba(255, 107, 53, 0.3);
            color: var(--peach-orange);
            padding: 0.5rem 1.25rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 2rem;
        }
        
        .email-form {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .email-input {
            flex: 1;
            min-width: 250px;
            padding: 1rem 1.5rem;
            background: var(--bg-primary);
            border: 1px solid var(--border-light);
            border-radius: 12px;
            color: var(--text-primary);
            font-size: 1rem;
            font-family: inherit;
            transition: all 0.3s ease;
        }
        
        .email-input:focus {
            outline: none;
            border-color: var(--peach-orange);
            box-shadow: 0 0 0 3px rgba(255, 107, 53, 0.1);
        }
        
        .email-input.error {
            border-color: #ff4757;
            box-shadow: 0 0 0 3px rgba(255, 71, 87, 0.15);
            animation: shakeField 0.4s ease;
        }
        
        @keyframes shakeField {
            0%, 100% { transform: translateX(0); }
            20%, 60% { transform: translateX(-5px); }
            40%, 80% { transform: translateX(5px); }
        }
        
        .form-free-note {
            flex-basis: 100%;
            font-size: 0.85rem;
            color: #888888;
            margin-top: 0.75rem;
        }
        
        .download-buttons {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .download-note {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-top: 0.5rem;
        }
        
        .trial-benefits {
            max-width: 600px;
            margin: 3rem auto 0;
            text-align: center;
        }
        
        .trial-benefits h3 {
            font-size: 1.25rem;
            color: var(--text-primary);
            margin-bottom: 1.5rem;
        }
        
        .benefit-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .benefit-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem;
            background: var(--bg-primary);
            border: 1px solid var(--border-light);
            border-radius: 8px;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }
        
        .benefit-icon {
            color: var(--peach-orange);
            font-weight: 700;
        }
        
        .benefit-item--disabled {
            opacity: 0.6;
        }
        
        .benefit-item--disabled .benefit-icon {
            color: var(--text-muted);
        }
        
        .upgrade-note {
            font-size: 0.95rem;
            color: var(--text-secondary);
            margin-top: 1.5rem;
        }
        
        .upgrade-note a {
            color: var(--peach-orange);
            text-decoration: none;
            font-weight: 600;
        }
        
        .upgrade-note a:hover {
            text-decoration: underline;
        }
        
        .btn-large {
            padding: 1rem 2.5rem;
            font-size: 1.1rem;
        }
        
        .install-instructions {
            background: var(--bg-primary);
            border: 1px solid var(--border-light);
            border-radius: 12px;
            padding: 1.5rem;
            text-align: left;
            max-width: 400px;
            margin: 0 auto;
        }
        
        .install-title {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--peach-orange);
            margin-bottom: 0.75rem;
        }
        
        .install-instructions ol {
            margin: 0;
            padding-left: 1.25rem;
            color: #555555;
            font-size: 0.9rem;
            line-height: 1.8;
        }
        
        .email-input::placeholder {
            color: var(--text-muted);
        }
        
        select.email-input {
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%23888' viewBox='0 0 16 16'%3E%3Cpath d='M8 11L3 6h10l-5 5z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 1rem center;
            padding-right: 2.5rem;
        }
        
        select.email-input option {
            background: var(--bg-primary);
            color: var(--text-primary);
        }
        
        .email-submit {
            padding: 1rem 2.5rem;
            background: var(--gradient-hero);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
            white-space: nowrap;
            flex-basis: 100%;
            max-width: 280px;
            margin-top: 0.5rem;
        }
        
        .email-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 107, 53, 0.4);
        }
        
        .email-submit:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        
        .email-success {
            background: rgba(74, 217, 130, 0.15);
            border: 1px solid rgba(74, 217, 130, 0.3);
            color: #4AD982;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            margin-top: 1rem;
            display: none;
        }
        
        .email-success.show {
            display: block;
        }
        
        .email-error {
            background: rgba(255, 82, 82, 0.15);
            border: 1px solid rgba(255, 82, 82, 0.3);
            color: #FF5252;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            margin-top: 1rem;
            display: none;
        }
        
        .email-error.show {
            display: block;
        }
        
        @media (max-width: 768px) {
            .email-form {
                flex-direction: column;
            }
            
            .email-input {
                min-width: 100%;
            }
            
            .email-submit {
                width: 100%;
            }
        }
        
        /* ============================================
           FOOTER
        ============================================ */
        footer {
            padding: 2rem var(--section-pad-x) 1.5rem;
            border-top: 1px solid var(--border-light);
        }
        
        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 2rem;
        }
        
        .footer-brand {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .footer-brand img {
            width: 32px;
            height: 32px;
        }
        
        .footer-brand span {
            font-weight: 600;
            color: var(--text-secondary);
        }
        
        .footer-links {
            display: flex;
            gap: 2rem;
        }
        
        .footer-links a {
            color: var(--text-muted);
            text-decoration: none;
            font-size: 0.9rem;
            transition: color 0.2s ease;
        }
        
        .footer-links a:hover {
            color: var(--text-primary);
        }
        
        .footer-copyright {
            width: 100%;
            text-align: center;
            padding-top: 1rem;
            margin-top: 1rem;
            border-top: 1px solid var(--border-light);
            color: var(--text-muted);
            font-size: 0.85rem;
        }
        
        /* ============================================
           MEDIUM LAPTOPS (1400-1600px wide, <1000px tall)
           For screens like 1470√ó956 where content needs to fit
        ============================================ */
        @media (min-width: 1400px) and (max-width: 1599px) and (max-height: 1000px) {
            .pricing-section {
                padding: 2.5rem 2rem;
            }
            
            .pricing-section .section-header {
                margin-bottom: 1.5rem;
            }
            
            .pricing-section h2 {
                font-size: 2.25rem;
                margin-bottom: 0.5rem;
            }
            
            .pricing-cards {
                gap: 1.5rem;
                margin: 1rem auto;
            }
            
            .pricing-card {
                padding: 1.25rem;
            }
            
            .plan-badge {
                font-size: 0.7rem;
                padding: 0.3rem 0.9rem;
                top: -10px;
            }
            
            .plan-name {
                font-size: 1.2rem;
                margin-bottom: 0.5rem;
            }
            
            .plan-price .price {
                font-size: 2.25rem;
            }
            
            .plan-price .period {
                font-size: 0.85rem;
            }
            
            .plan-description {
                font-size: 0.85rem;
                margin-bottom: 0.75rem;
            }
            
            .plan-features {
                gap: 0.25rem;
                margin: 0.75rem 0;
            }
            
            .plan-features li {
                font-size: 0.85rem;
                padding: 0.35rem 0;
            }
            
            .pricing-card .btn {
                height: 42px;
                font-size: 0.85rem;
            }
            
            .plan-disclaimer {
                font-size: 0.75rem;
                margin-top: 0.5rem;
            }
        }
        
        /* ============================================
           SMALL LAPTOPS (1366√ó768)
        ============================================ */
        @media (max-width: 1400px) and (max-height: 800px) {
            :root {
                --section-pad-y: 4.5rem;
                --section-pad-y-tight: 2rem;
                --nav-h: 60px;
            }
            
            .hero {
                padding: 16px 2rem 20px;
            }
            
            .badge {
                margin-bottom: 10px;
            }
            
            h1 {
                font-size: clamp(38px, 4vw, 52px);
                margin-bottom: 10px;
            }
            
            .hero-subtitle {
                margin-bottom: 18px;
                font-size: 0.95rem;
            }
            
            .hero-visual {
                max-height: 380px;
                margin-bottom: 16px;
            }
            
            .demo-video {
                max-height: 360px;
            }
            
            .hero-ctas {
                margin-bottom: 8px;
            }
            
            .btn {
                height: 44px;
                padding: 0 20px;
                font-size: 0.9rem;
            }
            
            .hero-note {
                font-size: 0.75rem;
                opacity: 0.75;
            }
            
            /* Pricing section - reduce padding for laptop screens */
            .section-header {
                margin-bottom: 1.25rem;
            }
            
            .section-header h2 {
                font-size: 2.25rem;
                margin-bottom: 0.5rem;
            }
            
            .section-subtitle {
                font-size: 0.95rem;
            }
            
            .pricing-cards {
                margin: 1.25rem 0 0.75rem;
                gap: 1.25rem;
            }
            
            .pricing-card {
                padding: 1.15rem;
            }
            
            .plan-badge {
                font-size: 0.7rem;
                padding: 0.35rem 1rem;
                top: -10px;
            }
            
            .plan-price .price {
                font-size: 1.9rem;
            }
            
            .plan-price .period {
                font-size: 0.9rem;
            }
            
            .plan-description {
                font-size: 0.9rem;
                margin-bottom: 1rem;
            }
            
            .plan-features {
                gap: 0.5rem;
                margin: 1rem 0;
            }
            
            .plan-features li {
                font-size: 0.85rem;
            }
            
            .plan-disclaimer {
                font-size: 0.75rem;
            }
        }
        
        /* ============================================
           LARGE SCREENS (1920√ó1080 and up)
        ============================================ */
        @media (min-width: 1600px) {
            /* UNIFIED PROPORTIONAL SCALING
               All elements use the same base scale (1vw = 1% of viewport width)
               This ensures everything scales together proportionally */
            :root {
                /* Base scale factor - all sizes derive from this */
                --scale: 1vw;
                --nav-h: calc(var(--scale) * 4);
                --section-pad-x: calc(var(--scale) * 5);
                --section-pad-y: calc(var(--scale) * 4);
                --section-pad-y-tight: calc(var(--scale) * 3);
            }
            
            /* Hero section */
            .hero {
                min-height: calc(100vh - var(--nav-h));
                padding: calc(var(--scale) * 2) calc(var(--scale) * 5) calc(var(--scale) * 2);
                justify-content: center;
            }
            
            .badge {
                margin-bottom: calc(var(--scale) * 0.8);
                font-size: calc(var(--scale) * 0.9);
                padding: calc(var(--scale) * 0.5) calc(var(--scale) * 1.2);
            }
            
            h1 {
                font-size: calc(var(--scale) * 3.54);
                margin-bottom: calc(var(--scale) * 0.3);
            }
            
            .hero-tagline {
                font-size: calc(var(--scale) * 2.18);
                margin-bottom: calc(var(--scale) * 1);
            }
            
            .hero-subtitle {
                font-size: calc(var(--scale) * 1.1);
                margin-bottom: calc(var(--scale) * 1.2);
            }
            
            .hero-content {
                max-width: calc(var(--scale) * 60);
            }
            
            .hero-visual {
                max-height: calc(var(--scale) * 25.5);
                max-width: calc(var(--scale) * 53);
                margin-bottom: calc(var(--scale) * 1);
            }
            
            .demo-video {
                max-height: calc(var(--scale) * 24);
                width: 100%;
            }
            
            .hero-ctas {
                gap: calc(var(--scale) * 1.2);
                margin-bottom: calc(var(--scale) * 0.8);
            }
            
            .btn {
                height: calc(var(--scale) * 3.27);
                padding: 0 calc(var(--scale) * 2);
                font-size: calc(var(--scale) * 1);
            }
            
            .hero-note {
                font-size: calc(var(--scale) * 0.85);
            }
            
            /* Social proof inline */
            .social-proof-inline {
                margin-top: calc(var(--scale) * 0.54);
            }
            
            .social-proof-text {
                font-size: calc(var(--scale) * 0.76);
                margin-bottom: calc(var(--scale) * 0.82);
                letter-spacing: 0.1em;
            }
            
            .daw-logos {
                gap: calc(var(--scale) * 1.09);
            }
            
            .daw-logo {
                font-size: calc(var(--scale) * 0.76);
                padding: calc(var(--scale) * 0.33) calc(var(--scale) * 0.65);
                border-radius: calc(var(--scale) * 0.41);
            }
            
            /* Navigation */
            nav {
                padding: calc(var(--scale) * 0.8) calc(var(--scale) * 5);
            }
            
            .nav-links {
                gap: calc(var(--scale) * 2.5);
            }
            
            .nav-links a {
                font-size: calc(var(--scale) * 0.95);
            }
            
            .nav-cta {
                padding: calc(var(--scale) * 0.5) calc(var(--scale) * 1.5);
                font-size: calc(var(--scale) * 0.9);
            }
            
            .logo-text {
                font-size: calc(var(--scale) * 1.2);
            }
            
            /* Section headers */
            .section-header {
                margin-bottom: calc(var(--scale) * 2);
            }
            
            .section-label {
                font-size: calc(var(--scale) * 0.9);
                margin-bottom: calc(var(--scale) * 0.8);
            }
            
            h2 {
                font-size: calc(var(--scale) * 3);
            }
            
            .section-subtitle {
                font-size: calc(var(--scale) * 1.1);
            }
            
            /* Features section */
            .features-grid {
                gap: calc(var(--scale) * 1.8);
                max-width: calc(var(--scale) * 80);
            }
            
            .feature-card {
                padding: calc(var(--scale) * 1.8);
                border-radius: calc(var(--scale) * 1.2);
            }
            
            .feature-icon {
                font-size: calc(var(--scale) * 2.5);
                margin-bottom: calc(var(--scale) * 1);
            }
            
            .feature-card h3 {
                font-size: calc(var(--scale) * 1.3);
                margin-bottom: calc(var(--scale) * 0.6);
            }
            
            .feature-card p {
                font-size: calc(var(--scale) * 1);
                line-height: 1.6;
            }
            
            /* Pricing section */
            .pricing-section {
                min-height: calc(100vh - var(--nav-h));
                padding: calc(var(--scale) * 3) calc(var(--scale) * 5);
                display: flex;
                flex-direction: column;
                justify-content: center;
            }
            
            .pricing-cards {
                max-width: calc(var(--scale) * 65);
                gap: calc(var(--scale) * 2.5);
                margin: calc(var(--scale) * 2) auto calc(var(--scale) * 1.5);
            }
            
            .pricing-card {
                padding: calc(var(--scale) * 1.8);
                border-radius: calc(var(--scale) * 1.2);
            }
            
            .plan-badge {
                font-size: calc(var(--scale) * 0.75);
                padding: calc(var(--scale) * 0.4) calc(var(--scale) * 1.2);
                top: calc(var(--scale) * -0.8);
            }
            
            .plan-name {
                font-size: calc(var(--scale) * 1.4);
                margin-bottom: calc(var(--scale) * 0.6);
            }
            
            .plan-price .price {
                font-size: calc(var(--scale) * 3);
            }
            
            .plan-price .period {
                font-size: calc(var(--scale) * 1);
            }
            
            .plan-description {
                font-size: calc(var(--scale) * 1);
                margin-bottom: calc(var(--scale) * 1);
            }
            
            .plan-features {
                gap: calc(var(--scale) * 0.5);
                margin: calc(var(--scale) * 1) 0;
            }
            
            .plan-features li {
                font-size: calc(var(--scale) * 0.9);
                padding: calc(var(--scale) * 0.4) 0;
            }
            
            .pricing-card .btn {
                height: calc(var(--scale) * 2.8);
                font-size: calc(var(--scale) * 0.95);
            }
            
            .plan-disclaimer {
                font-size: calc(var(--scale) * 0.75);
                margin-top: calc(var(--scale) * 0.6);
            }
            
            /* Social proof section */
            .social-proof {
                padding: calc(var(--scale) * 3) calc(var(--scale) * 5);
            }
            
            .social-proof-text {
                font-size: calc(var(--scale) * 1.1);
            }
            
            .social-proof-tags {
                gap: calc(var(--scale) * 1.2);
            }
            
            .social-proof-tag {
                padding: calc(var(--scale) * 0.6) calc(var(--scale) * 1.5);
                font-size: calc(var(--scale) * 0.9);
            }
            
            /* Features section */
            .features {
                min-height: calc(100vh - var(--nav-h));
                display: flex;
                flex-direction: column;
                justify-content: center;
                padding: calc(var(--scale) * 3) calc(var(--scale) * 5);
            }
            
            .features-container {
                max-width: calc(var(--scale) * 80);
            }
            
            /* Download section */
            .download-section {
                min-height: calc(100vh - var(--nav-h));
                display: flex;
                flex-direction: column;
                justify-content: center;
                padding: calc(var(--scale) * 3) calc(var(--scale) * 5);
            }
            
            .download-button {
                padding: calc(var(--scale) * 1) calc(var(--scale) * 2.5);
                font-size: calc(var(--scale) * 1.1);
            }
            
            .system-requirements {
                font-size: calc(var(--scale) * 0.9);
            }
            
            .trial-features {
                gap: calc(var(--scale) * 2);
                margin-top: calc(var(--scale) * 2);
            }
            
            .trial-feature {
                font-size: calc(var(--scale) * 1);
            }
            
            .benefit-grid {
                gap: calc(var(--scale) * 1.2);
                max-width: calc(var(--scale) * 55);
            }
            
            .benefit-item {
                padding: calc(var(--scale) * 0.6) calc(var(--scale) * 1.2);
                font-size: calc(var(--scale) * 0.9);
            }
            
            /* Footer */
            footer {
                padding: calc(var(--scale) * 2) calc(var(--scale) * 5) calc(var(--scale) * 1.5);
            }
            
            .footer-brand span {
                font-size: calc(var(--scale) * 1.1);
            }
            
            .footer-links a {
                font-size: calc(var(--scale) * 0.95);
            }
            
            .footer-copyright {
                font-size: calc(var(--scale) * 0.85);
            }
        }
        
        /* ============================================
           ANIMATIONS
        ============================================ */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .fade-in-up {
            animation: fadeInUp 0.8s ease forwards;
        }
        
        /* Subtle slide animation that doesn't hide content */
        @keyframes slideUp {
            from { transform: translateY(20px); }
            to { transform: translateY(0); }
        }
        
        /* Feature cards - always visible with subtle entrance */
        .feature-card {
            opacity: 1 !important;
            animation: slideUp 0.5s ease-out both;
        }
        
        .feature-card:nth-child(1) { animation-delay: 0.05s; }
        .feature-card:nth-child(2) { animation-delay: 0.1s; }
        .feature-card:nth-child(3) { animation-delay: 0.15s; }
        .feature-card:nth-child(4) { animation-delay: 0.2s; }
        
        /* Pricing cards - always visible with subtle entrance */
        .pricing-card {
            opacity: 1 !important;
            animation: slideUp 0.5s ease-out both;
        }
        
        .pricing-card:nth-child(1) { animation-delay: 0.05s; }
        .pricing-card:nth-child(2) { animation-delay: 0.1s; }
        
        /* ============================================
           RESPONSIVE - TABLET (768px - 1024px)
        ============================================ */
        @media (max-width: 1024px) {
            .features-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 1.5rem;
            }
            
            .pricing-card.featured {
                transform: scale(1.02);
            }
            
            .pricing-card.featured:hover {
                transform: scale(1.02) translateY(-4px);
            }
        }
        
        @media (max-width: 768px) {
            nav {
                padding: 0.75rem 1rem;
            }
            
            .nav-container {
                width: 100%;
                max-width: 100%;
            }
            
            .nav-links {
                display: none;
            }
            
            .hero {
                padding: 16px 1rem 1.5rem;
                max-height: none;
            }
            
            .hero-content {
                gap: 0;
            }
            
            .badge {
                margin-bottom: 10px;
                font-size: 0.6rem;
                padding: 0.2rem 0.5rem;
            }
            
            h1 {
                font-size: clamp(1.75rem, 8vw, 2.25rem);
                line-height: 1.15 !important;
                margin-bottom: 8px;
            }
            
            .hero-tagline {
                font-size: clamp(1.1rem, 4.5vw, 1.4rem);
                margin: 0 0 12px 0;
            }
            
            .hero-visual {
                margin: 0 0 14px 0;
                max-height: 220px;
            }
            
            .demo-video {
                max-height: 200px;
            }
            
            .hero-subtitle {
                font-size: clamp(0.85rem, 3.5vw, 0.95rem);
                line-height: 1.5;
                margin: 0 0 16px 0;
                padding: 0 0.5rem;
            }
            
            .hero-ctas {
                flex-direction: column;
                align-items: center;
                gap: 0.6rem;
                margin-bottom: 10px;
            }
            
            .btn {
                width: 100%;
                max-width: 280px;
                height: 46px;
                font-size: 0.9rem;
            }
            
            .hero-note {
                font-size: 0.7rem;
            }
            
            .video-sound-toggle {
                width: 44px;
                height: 28px;
                bottom: 10px;
                right: 10px;
            }
            
            .waveform-demo {
                height: auto;
            }
            
            /* Social Proof */
            .social-proof {
                padding: 2rem 1rem;
            }
            
            .social-proof-text {
                font-size: 0.75rem;
                margin-bottom: 1.25rem;
            }
            
            .daw-logos {
                gap: 0.75rem;
            }
            
            .daw-logo {
                font-size: 0.7rem;
                padding: 0.35rem 0.6rem;
            }
            
            /* Features */
            .features {
                padding: 3rem 1rem;
            }
            
            .features-grid {
                grid-template-columns: 1fr 1fr;
                gap: 1rem;
            }
            
            .feature-card {
                padding: 1.25rem;
            }
            
            .feature-icon {
                width: 44px;
                height: 44px;
                font-size: 1.35rem;
                margin-bottom: 0.75rem;
            }
            
            .feature-card h3 {
                font-size: 1rem;
                margin-bottom: 0.35rem;
            }
            
            .feature-card p {
                font-size: 0.8rem;
                line-height: 1.5;
            }
            
            /* Pricing */
            .pricing-cards {
                gap: 1.25rem;
                padding-top: 1.5rem;
            }
            
            .pricing-card {
                padding: 1.5rem;
            }
            
            .pricing-card.featured {
                transform: none;
            }
            
            .pricing-card.featured:hover {
                transform: translateY(-4px);
            }
            
            .plan-badge {
                font-size: 0.65rem;
                padding: 0.3rem 1rem;
                top: -12px;
            }
            
            .plan-name {
                font-size: 1.1rem;
            }
            
            .plan-price .price {
                font-size: 2rem;
            }
            
            .plan-features li {
                font-size: 0.8rem;
                padding: 0.4rem 0;
            }
            
            .price {
                font-size: 2.5rem;
            }
            
            /* Download */
            .email-collection {
                padding: 3rem 1rem;
            }
            
            .benefit-grid {
                grid-template-columns: 1fr 1fr;
                gap: 0.75rem;
            }
            
            .benefit-item {
                font-size: 0.8rem;
                padding: 0.6rem;
            }
            
            /* Footer */
            .footer-container {
                flex-direction: column;
                text-align: center;
                gap: 1.5rem;
            }
            
            .footer-links {
                flex-wrap: wrap;
                justify-content: center;
                gap: 1.25rem;
            }
            
            .footer-links a {
                font-size: 0.85rem;
            }
        }
        
        /* ============================================
           RESPONSIVE - SMALL MOBILE (320px - 414px)
        ============================================ */
        @media (max-width: 414px) {
            :root {
                --section-pad-x: 1rem;
            }
            
            .hero {
                padding: 12px 0.75rem 1.25rem;
            }
            
            h1 {
                font-size: clamp(1.5rem, 9vw, 2rem);
                padding: 0 0.25rem;
            }
            
            .hero-tagline {
                font-size: clamp(1rem, 5vw, 1.2rem);
            }
            
            .hero-visual {
                max-height: 180px;
                margin: 0 0 12px 0;
            }
            
            .demo-video {
                max-height: 160px;
            }
            
            .hero-subtitle {
                font-size: 0.85rem;
            }
            
            .btn {
                max-width: 260px;
                height: 44px;
                font-size: 0.85rem;
            }
            
            .btn-large {
                padding: 0.9rem 1.75rem;
                font-size: 0.95rem;
            }
            
            /* Social Proof - single column on very small */
            .daw-logos {
                gap: 0.5rem;
            }
            
            .daw-logo {
                font-size: 0.65rem;
                padding: 0.3rem 0.5rem;
            }
            
            /* Features - single column */
            .features-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .feature-card {
                padding: 1.25rem;
            }
            
            /* Pricing */
            .pricing-cards {
                gap: 1rem;
            }
            
            .pricing-card {
                padding: 1.25rem;
            }
            
            .plan-price .price {
                font-size: 1.85rem;
            }
            
            /* Download section */
            .section-header h2 {
                font-size: clamp(1.5rem, 6vw, 2rem);
            }
            
            .section-subtitle {
                font-size: 0.9rem;
            }
            
            .benefit-grid {
                grid-template-columns: 1fr;
            }
            
            /* Footer */
            .footer-links {
                gap: 1rem;
            }
        }
        
        /* ============================================
           RESPONSIVE - VERY SMALL (320px)
        ============================================ */
        @media (max-width: 360px) {
            .hero {
                padding: 10px 0.5rem 1rem;
            }
            
            h1 {
                font-size: 1.4rem;
            }
            
            .hero-tagline {
                font-size: 0.95rem;
            }
            
            .hero-visual {
                max-height: 150px;
            }
            
            .demo-video {
                max-height: 140px;
            }
            
            .hero-subtitle {
                font-size: 0.8rem;
            }
            
            .btn {
                max-width: 240px;
                height: 42px;
                font-size: 0.8rem;
                padding: 0 16px;
            }
            
            .daw-logos {
                display: grid;
                grid-template-columns: repeat(3, 1fr);
                gap: 0.4rem;
            }
            
            .daw-logo {
                font-size: 0.6rem;
                padding: 0.25rem 0.4rem;
                text-align: center;
            }
            
            .section-header h2 {
                font-size: 1.35rem;
            }
            
            .feature-icon {
                width: 40px;
                height: 40px;
                font-size: 1.2rem;
            }
            
            .pricing-card {
                padding: 1rem;
            }
            
            .plan-badge {
                font-size: 0.6rem;
                padding: 0.25rem 0.75rem;
            }
            
            .footer-brand span {
                font-size: 0.9rem;
            }
            
            .footer-links a {
                font-size: 0.8rem;
            }
        }
        
        /* Mobile nav toggle */
        
        /* ============================================
           COOKIE CONSENT BANNER
           Prominent design - hard to ignore
           ============================================ */
        
        /* Overlay to dim page and force attention */
        .cookie-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.6);
            z-index: 9999;
            opacity: 1;
            transition: opacity 0.3s ease;
        }
        .cookie-overlay--hidden {
            opacity: 0;
            pointer-events: none;
        }
        
        .cookie-banner {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 10000;
            
            background: rgba(15, 15, 22, 0.99);
            border-top: 1px solid rgba(255, 255, 255, 0.12);
            box-shadow: 0 -8px 30px rgba(0, 0, 0, 0.5);
            
            padding: 2rem 2rem;
            
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1.5rem;
            flex-wrap: wrap;
            
            opacity: 1;
            transition: opacity 0.3s ease, transform 0.3s ease;
        }
        
        .cookie-banner--hidden {
            opacity: 0;
            pointer-events: none;
            transform: translateY(100%);
        }
        
        @media (prefers-reduced-motion: reduce) {
            .cookie-banner { transition: opacity 0.1s ease; }
            .cookie-overlay { transition: opacity 0.1s ease; }
            .cookie-banner--hidden { transform: translateY(100%); }
        }
        
        .cookie-banner__text {
            font-size: 0.9375rem;
            line-height: 1.5;
            color: rgba(255, 255, 255, 0.9);
            margin: 0;
        }
        
        .cookie-banner__link {
            color: rgba(255, 255, 255, 0.6);
            text-decoration: underline;
            margin-left: 0.25rem;
        }
        
        .cookie-banner__link:hover {
            color: rgba(255, 255, 255, 0.9);
        }
        
        .cookie-banner__actions {
            display: flex;
            align-items: center;
            gap: 1rem;
            flex-shrink: 0;
        }
        
        .cookie-banner__btn--accept {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 0.7rem 1.75rem;
            border-radius: 6px;
            font-size: 0.9375rem;
            font-weight: 600;
            cursor: pointer;
            font-family: inherit;
            transition: background 0.15s, transform 0.15s, box-shadow 0.15s;
            box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);
        }
        
        .cookie-banner__btn--accept:hover {
            background: #2563eb;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
        }
        
        .cookie-banner__manage-link {
            color: rgba(255, 255, 255, 0.4);
            font-size: 0.8125rem;
            cursor: pointer;
            transition: color 0.15s;
        }
        
        .cookie-banner__manage-link:hover {
            color: rgba(255, 255, 255, 0.65);
            text-decoration: underline;
        }
        
        /* Expanded preferences panel */
        .cookie-banner__preferences {
            display: none;
            width: 100%;
            padding-top: 1rem;
            margin-top: 1rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            flex-direction: column;
            gap: 0.75rem;
        }
        
        .cookie-banner__preferences.cookie-banner__preferences--visible {
            display: flex;
        }
        
        .cookie-banner__pref-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
        }
        
        .cookie-banner__pref-label {
            font-size: 0.875rem;
            color: rgba(255, 255, 255, 0.8);
        }
        
        .cookie-banner__pref-desc {
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.5);
            margin-top: 2px;
        }
        
        .cookie-banner__toggle {
            position: relative;
            width: 44px;
            height: 24px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            cursor: pointer;
            transition: background 0.2s;
            flex-shrink: 0;
        }
        
        .cookie-banner__toggle::after {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            transition: transform 0.2s;
        }
        
        .cookie-banner__toggle--on {
            background: #3b82f6;
        }
        
        .cookie-banner__toggle--on::after {
            transform: translateX(20px);
        }
        
        .cookie-banner__toggle--disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .cookie-banner__pref-actions {
            display: flex;
            gap: 0.75rem;
            margin-top: 0.5rem;
        }
        
        .cookie-banner__btn--save {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 0.6rem 1.25rem;
            border-radius: 6px;
            font-size: 0.875rem;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.15s;
        }
        
        .cookie-banner__btn--save:hover {
            background: #2563eb;
        }
        
        .cookie-banner__btn--reject-all {
            background: transparent;
            color: rgba(255, 255, 255, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 0.6rem 1.25rem;
            border-radius: 6px;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.15s;
        }
        
        .cookie-banner__btn--reject-all:hover {
            color: rgba(255, 255, 255, 0.8);
            border-color: rgba(255, 255, 255, 0.4);
        }
        
        /* Mobile */
        @media (max-width: 640px) {
            .cookie-banner {
                padding: 1.25rem 1.25rem;
                flex-direction: column;
                gap: 0.875rem;
                text-align: center;
            }
            .cookie-banner__actions {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
    <!-- Lemon Squeezy Checkout Overlay -->
    <script src="https://assets.lemonsqueezy.com/lemon.js" defer></script>
</head>
<body>
    <!-- ============================================
         COOKIE CONSENT BANNER
         Accessible, keyboard navigable, GDPR-compliant
         ============================================ -->
    <div id="cookieOverlay" class="cookie-overlay cookie-overlay--hidden"></div>
    <div 
        id="cookieConsentBanner" 
        class="cookie-banner cookie-banner--hidden"
        role="dialog"
        aria-label="Cookie consent"
        aria-hidden="true"
        aria-describedby="cookieConsentText"
    >
        <p id="cookieConsentText" class="cookie-banner__text">
            We use cookies to ensure you get the best experience on our website.
            <a href="/privacy.html" class="cookie-banner__link">Learn more</a>
        </p>
        <div class="cookie-banner__actions">
            <button 
                class="cookie-banner__btn cookie-banner__btn--accept" 
                onclick="CookieConsent.accept()"
            >Accept</button>
            <span 
                class="cookie-banner__manage-link" 
                onclick="CookieConsent.togglePreferences()"
            >Manage preferences</span>
        </div>
        
        <!-- Expanded preferences panel (hidden by default) -->
        <div id="cookiePreferences" class="cookie-banner__preferences">
            <div class="cookie-banner__pref-row">
                <div>
                    <div class="cookie-banner__pref-label">Essential cookies</div>
                    <div class="cookie-banner__pref-desc">Required for the website to function</div>
                </div>
                <div class="cookie-banner__toggle cookie-banner__toggle--on cookie-banner__toggle--disabled"></div>
            </div>
            <div class="cookie-banner__pref-row">
                <div>
                    <div class="cookie-banner__pref-label">Analytics cookies</div>
                    <div class="cookie-banner__pref-desc">Help us improve our website</div>
                </div>
                <div id="analyticsToggle" class="cookie-banner__toggle cookie-banner__toggle--on" onclick="CookieConsent.toggleAnalytics()"></div>
            </div>
            <div class="cookie-banner__pref-actions">
                <button class="cookie-banner__btn--save" onclick="CookieConsent.savePreferences()">Save preferences</button>
                <button class="cookie-banner__btn--reject-all" onclick="CookieConsent.reject()">Reject all</button>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <nav id="navbar">
        <div class="nav-container">
            <a href="#" class="logo">
                <img src="icon.png" alt="AnyWave">
                <span class="logo-text">AnyWave</span>
            </a>
            <div class="nav-links">
                <a href="#how-it-works">How It Works</a>
                <a href="#pricing" class="nav-cta">Get AnyWave</a>
                <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode">
                    <span class="theme-icon light">‚òÄÔ∏è</span>
                    <span class="theme-icon dark">üåô</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-bg">
            <div class="hero-glow"></div>
            <div class="grid-pattern"></div>
        </div>
        <div class="hero-content">
            <p class="hero-tagline">Shift <span class="gradient">Time.</span> Shape <span class="gradient">Sound.</span></p>
            <p class="hero-subtitle">
                Move the beats and drops to match your edit. AnyWave cuts and loops the gaps seamlessly.
            </p>
            
            <div class="hero-visual">
                <div class="app-screenshot">
                    <div class="waveform-demo">
                        <video class="demo-video" id="heroVideo" loop muted playsinline>
                            <source src="demo-video.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                        <button class="video-sound-toggle" id="soundToggle" data-video="heroVideo" aria-label="Unmute demo video" aria-pressed="false">
                            <span class="sound-bars"><span class="bar"></span><span class="bar"></span><span class="bar"></span><span class="bar"></span><span class="bar"></span><span class="bar"></span><span class="bar"></span><span class="bar"></span><span class="bar"></span><span class="bar"></span></span>
                            <span class="mute-line"></span>
                        </button>
                    </div>
                </div>
            </div>
            <div class="hero-ctas">
                <a href="#pricing" class="btn btn-primary">
                    <span>Get AnyWave</span>
                    <span>‚Üí</span>
                </a>
                <a href="#how-it-works" class="btn btn-secondary">
                    <span>See How It Works</span>
                </a>
            </div>
            
            <!-- Social Proof -->
            <div class="social-proof-inline">
                <p class="social-proof-text">Perfect for any story telling workflow</p>
                <div class="daw-logos">
                    <span class="daw-logo">Commercials</span>
                    <span class="daw-logo">Trailers</span>
                    <span class="daw-logo">Social Media</span>
                    <span class="daw-logo">YouTube</span>
                    <span class="daw-logo">Film & TV</span>
                    <span class="daw-logo">Podcasts</span>
                </div>
            </div>
        </div>
    </section>

    <!-- How It Works -->
    <section class="features" id="how-it-works">
        <div class="features-container">
            <div class="section-header">
                <p class="section-label">How It Works</p>
                <h2>Pin. Drag. Done.</h2>
                <p class="section-subtitle">
                    Fit any soundtrack to your edit perfectly. Move the emotional peaks to follow your story‚ÄîAnyWave seamlessly reshapes everything in between.
                </p>
            </div>
            
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">‚è±Ô∏è</div>
                    <h3>Any Duration</h3>
                    <p>Stretch or compress any track to fit your exact timing</p>
                    <div class="feature-video-container">
                        <video class="feature-video" loop muted playsinline autoplay>
                            <source src="how-it-works-1.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üìç</div>
                    <h3>Pin Any Moment</h3>
                    <p>Move the drop, chorus or buildup to land exactly where you need it.</p>
                    <div class="feature-video-container">
                        <video class="feature-video" loop muted playsinline autoplay>
                            <source src="how-it-works-2.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">‚ö°</div>
                    <h3>Instant Preview</h3>
                    <p>Hear changes in real-time as you drag.</p>
                    <div class="feature-video-container">
                        <video class="feature-video" loop muted playsinline autoplay>
                            <source src="how-it-works-3.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Pricing Section -->
    <section class="pricing-section" id="pricing">
        <div class="pricing-container">
            <div class="section-header">
                <h2>Choose Your Plan</h2>
                <p class="section-subtitle">
                    Start shaping your music
                </p>
            </div>
            
            <div class="pricing-cards">
                <!-- Pro Plan (Featured) -->
                <div class="pricing-card featured">
                    <div class="plan-badge">‚≠ê RECOMMENDED</div>
                    <h3 class="plan-name">AnyWave Pro</h3>
                    <div class="plan-price">
                        <span class="price">$9.99</span>
                        <span class="period">/month</span>
                    </div>
                    <p class="plan-description">Full access with flexible monthly billing.</p>
                    <ul class="plan-features">
                        <li>‚úì Unlimited projects</li>
                        <li>‚úì Unlimited exports</li>
                        <li>‚úì All future updates</li>
                        <li>‚úì Premium support</li>
                        <li>‚úì Commercial license</li>
                    </ul>
                    <a href="https://peachsounds.lemonsqueezy.com/checkout/buy/5585ea8e-18e3-4608-ab13-fb9bac5f36c4?embed=1" class="lemonsqueezy-button btn btn-primary btn-large">
                        Start Subscription
                    </a>
                    <p class="plan-note">Cancel anytime</p>
                </div>
                
                <!-- Free Trial -->
                <div class="pricing-card">
                    <h3 class="plan-name">Free Trial</h3>
                    <div class="plan-price">
                        <span class="price">$0</span>
                        <span class="period">forever</span>
                    </div>
                    <p class="plan-description">Try all features risk-free</p>
                    <ul class="plan-features">
                        <li>‚úì Unlimited projects</li>
                        <li>‚úì All editing features</li>
                        <li>‚úì Real-time preview</li>
                        <li>‚úó Export disabled</li>
                        <li>&nbsp;</li>
                    </ul>
                    <a href="#download" class="btn btn-secondary btn-large">
                        Download First
                    </a>
                    <p class="plan-note">No credit card required</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Download Section -->
    <section class="email-collection" id="download">
        <div class="email-container">
            <div class="section-header">
                <h2>Download Free Trial</h2>
                <p class="section-subtitle">
                    Test drive all features. Upgrade when you love it.
                </p>
            </div>
            
            <div class="download-buttons">
                <a href="https://github.com/peachsounds-tech/anywave-releases/releases/latest/download/AnyWave.dmg" class="btn btn-primary btn-large" id="downloadBtn">
                    <span>‚¨á Download for Mac</span>
                </a>
                <p class="download-note">macOS 11+ ‚Ä¢ Intel & Apple Silicon ‚Ä¢ 25MB</p>
            </div>
            
            <div class="trial-benefits">
                <h3>What you'll get in the trial:</h3>
                <div class="benefit-grid">
                    <div class="benefit-item">
                        <span class="benefit-icon">‚úì</span>
                        <span>Full editing capabilities</span>
                    </div>
                    <div class="benefit-item">
                        <span class="benefit-icon">‚úì</span>
                        <span>Real-time preview</span>
                    </div>
                    <div class="benefit-item">
                        <span class="benefit-icon">‚úì</span>
                        <span>No time limit</span>
                    </div>
                    <div class="benefit-item benefit-item--disabled">
                        <span class="benefit-icon">‚úó</span>
                        <span>Export disabled</span>
                    </div>
                </div>
                <p class="upgrade-note">
                    Ready to export? <a href="#pricing">Upgrade to Pro</a> instantly from within the app.
                </p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-container">
            <div class="footer-brand">
                <img src="icon.png" alt="AnyWave">
                <span>AnyWave</span>
            </div>
            <div class="footer-links">
                <a href="/privacy.html">Privacy Policy</a>
            </div>
            <div class="footer-copyright">
                <p>¬© 2026 AnyWave. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        
        // Video sound toggle
        const heroVideo = document.getElementById('heroVideo');
        const soundToggle = document.getElementById('soundToggle');
        
        // Play video when it comes into view
        const videoObserverOptions = {
            root: null,
            rootMargin: '0px',
            threshold: 0.5 // Start playing when 50% of video is visible
        };
        
        const videoObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.play().catch(e => {
                        // Ignore autoplay errors
                        console.log('Video play prevented:', e);
                    });
                } else {
                    entry.target.pause();
                }
            });
        }, videoObserverOptions);
        
        // Observe video
        if (heroVideo) {
            videoObserver.observe(heroVideo);
        }
        
        function muteVideo(video, toggle) {
            video.muted = true;
            toggle.classList.remove('unmuted', 'faded');
            toggle.setAttribute('aria-label', 'Unmute video');
            toggle.setAttribute('aria-pressed', 'false');
        }
        
        function unmuteVideo(video, toggle) {
            video.muted = false;
            toggle.classList.add('unmuted');
            toggle.setAttribute('aria-label', 'Mute video');
            toggle.setAttribute('aria-pressed', 'true');
            
            // Fade out after 2.5 seconds
            setTimeout(() => {
                if (!video.muted) {
                    toggle.classList.add('faded');
                }
            }, 2500);
        }
        
        soundToggle.addEventListener('click', () => {
            if (heroVideo.muted) {
                unmuteVideo(heroVideo, soundToggle);
            } else {
                muteVideo(heroVideo, soundToggle);
            }
        });
        
        // Keyboard support
        soundToggle.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                soundToggle.click();
            }
        });
        
        // Navbar scroll effect
        const navbar = document.getElementById('navbar');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });
        
        // ============================================
        // THEME TOGGLE (Dark/Light Mode)
        // ============================================
        const themeToggle = document.getElementById('themeToggle');
        const htmlElement = document.documentElement;
        const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)');
        
        // Get theme: saved preference > system preference
        function getPreferredTheme() {
            const saved = localStorage.getItem('theme');
            if (saved) return saved;
            return systemPrefersDark.matches ? 'dark' : 'light';
        }
        
        // Apply theme
        function applyTheme(theme) {
            htmlElement.setAttribute('data-theme', theme);
        }
        
        // Initialize theme
        applyTheme(getPreferredTheme());
        
        // Toggle button click
        themeToggle.addEventListener('click', () => {
            const currentTheme = htmlElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            applyTheme(newTheme);
            localStorage.setItem('theme', newTheme);
        });
        
        // Listen for system preference changes (only if no manual preference saved)
        systemPrefersDark.addEventListener('change', (e) => {
            if (!localStorage.getItem('theme')) {
                applyTheme(e.matches ? 'dark' : 'light');
            }
        });
        
        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
        
        // Cards use pure CSS animations for reliable visibility
        // No JavaScript-controlled opacity to avoid rendering issues
        
        // Email collection and countdown
        console.log('Email collection script starting...');
        // ============================================
        // POSTHOG TRACKING UTILITIES
        // ============================================
        
        // Generate or retrieve anonymous UUID
        function getOrCreateUUID() {
            // Check both keys for backwards compatibility, prefer ph_uuid
            let uuid = localStorage.getItem('ph_uuid') || localStorage.getItem('anywave_uuid');
            if (!uuid) {
                uuid = crypto.randomUUID();
            }
            // Always store in ph_uuid for consistency across pages
            localStorage.setItem('ph_uuid', uuid);
            return uuid;
        }
        
        // Hash email using SHA-256 (returns promise)
        async function hashEmail(email) {
            const encoder = new TextEncoder();
            const data = encoder.encode(email.toLowerCase().trim());
            const hashBuffer = await crypto.subtle.digest('SHA-256', data);
            const hashArray = Array.from(new Uint8Array(hashBuffer));
            return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
        }
        
        // Capture and store UTM parameters
        function captureUTMs() {
            const urlParams = new URLSearchParams(window.location.search);
            const utmKeys = ['utm_source', 'utm_medium', 'utm_campaign', 'utm_content', 'utm_term'];
            
            const utms = {};
            utmKeys.forEach(key => {
                const value = urlParams.get(key);
                if (value) utms[key] = value;
            });
            
            // Only store if we have new UTMs (preserve first-touch)
            if (Object.keys(utms).length > 0) {
                localStorage.setItem('ph_utms', JSON.stringify(utms));
            }
            
            return JSON.parse(localStorage.getItem('ph_utms') || '{}');
        }
        
        // Get stored UTMs
        function getStoredUTMs() {
            return JSON.parse(localStorage.getItem('ph_utms') || '{}');
        }
        
        // Track landing page view (only called after consent)
        function trackLandingPageView() {
            // Guard: Verify PostHog is available
            if (typeof posthog === 'undefined' || !posthogInitialized) {
                console.log('PostHog: Skipping trackLandingPageView (not initialized)');
                return;
            }
            
            const uuid = getOrCreateUUID();
            const utms = captureUTMs();
            
            console.log('=== UTM Debug ===');
            console.log('URL:', window.location.href);
            console.log('Search params:', window.location.search);
            console.log('Captured UTMs:', utms);
            
            // Build properties object (only include non-null values)
            const eventProps = {
                url: window.location.href
            };
            
            if (utms.utm_source) eventProps.utm_source = utms.utm_source;
            if (utms.utm_medium) eventProps.utm_medium = utms.utm_medium;
            if (utms.utm_campaign) eventProps.utm_campaign = utms.utm_campaign;
            if (utms.utm_content) eventProps.utm_content = utms.utm_content;
            if (utms.utm_term) eventProps.utm_term = utms.utm_term;
            if (document.referrer) eventProps.referrer = document.referrer;
            
            console.log('Event properties to send:', eventProps);
            
            // Identify user with UUID and set UTMs as user properties (first-touch)
            const personProps = {
                first_seen_page: 'landing',
                first_seen_url: window.location.href,
                user_type: 'standard'  // Tag user as standard (won't overwrite 'early_access' due to $set_once)
            };
            if (utms.utm_source) personProps.first_utm_source = utms.utm_source;
            if (utms.utm_medium) personProps.first_utm_medium = utms.utm_medium;
            if (utms.utm_campaign) personProps.first_utm_campaign = utms.utm_campaign;
            if (utms.utm_content) personProps.first_utm_content = utms.utm_content;
            if (utms.utm_term) personProps.first_utm_term = utms.utm_term;
            personProps.first_visit_date = new Date().toISOString();
            if (document.referrer) personProps.first_referrer = document.referrer;
            
            console.log('Person properties to set:', personProps);
            
            posthog.identify(uuid, {
                $set_once: personProps
            });
            
            // Track page view event with current UTMs
            eventProps.page = 'landing';
            posthog.capture('page_viewed', eventProps);
            
            console.log('PostHog: page_viewed (landing) tracked!');
        }
        
        // Track application submission
        async function trackApplicationSubmitted(email, workType) {
            const uuid = getOrCreateUUID();
            const hashedEmail = await hashEmail(email);
            const utms = getStoredUTMs();
            
            console.log('=== Application Submit Debug ===');
            console.log('UUID:', uuid);
            console.log('Hashed email:', hashedEmail);
            console.log('Work type:', workType);
            console.log('Stored UTMs:', utms);
            
            // Guard: Only track if user consented to analytics
            if (!CookieConsent.shouldLoadAnalytics() || typeof posthog === 'undefined' || !posthogInitialized) {
                console.log('PostHog: Skipping application_submitted (no consent or not initialized)');
                return hashedEmail; // Still return hash for checkout flow
            }
            
            // Create alias to link the anonymous UUID to the hashed email
            // This MUST happen before identify() changes the user ID
            posthog.alias(hashedEmail, uuid);
            
            // Update identity to hashed email with user properties
            posthog.identify(hashedEmail, {
                $set: {
                    work_type: workType,
                    anonymous_uuid: uuid
                },
                $set_once: {
                    first_application_date: new Date().toISOString()
                }
            });
            
            // Build event properties
            const eventProps = {
                hashed_email: hashedEmail,
                work_type: workType,
                anonymous_uuid: uuid
            };
            
            // Include UTMs for attribution
            if (utms.utm_source) eventProps.utm_source = utms.utm_source;
            if (utms.utm_medium) eventProps.utm_medium = utms.utm_medium;
            if (utms.utm_campaign) eventProps.utm_campaign = utms.utm_campaign;
            
            console.log('Event properties:', eventProps);
            
            // Track submission event
            posthog.capture('application_submitted', eventProps);
            
            console.log('PostHog: application_submitted tracked!');
            
            return hashedEmail;
        }
        
        // Initialize tracking on page load (only called after consent)
        function initTracking() {
            console.log('=== PostHog Debug ===');
            console.log('PostHog initialized:', posthogInitialized);
            console.log('PostHog defined:', typeof posthog !== 'undefined');
            console.log('Window location:', window.location.href);
            
            // Guard: Only track if consent was given
            if (!posthogInitialized) {
                console.log('PostHog: Skipping initTracking (not initialized)');
                return;
            }
            
            if (typeof posthog !== 'undefined' && posthog.capture) {
                console.log('Calling trackLandingPageView...');
                trackLandingPageView();
            } else {
                console.log('PostHog not ready yet, retrying in 500ms...');
                setTimeout(initTracking, 500);
            }
        }
        
        // ============================================
        // CONSENT-GATED INITIALIZATION
        // Analytics only loads if user has consented.
        // CookieConsent.init() handles:
        //   - Showing banner if no consent yet
        //   - Loading analytics if already consented
        // ============================================
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', () => {
                setTimeout(() => CookieConsent.init(), 100);
            });
        } else {
            // DOM already loaded
            setTimeout(() => CookieConsent.init(), 100);
        }
        
        // ============================================
        // DOWNLOAD TRACKING
        // ============================================
        
        const downloadBtn = document.getElementById('downloadBtn');
        
        if (downloadBtn) {
            downloadBtn.addEventListener('click', () => {
                // Track download click
                if (typeof posthog !== 'undefined') {
                    posthog.capture('app_download_clicked', {
                        platform: 'mac',
                        source: 'landing_page'
                    });
                }
                
                // Track download finished after a delay (heuristic approach)
                // Most browsers don't expose download completion events for security reasons
                // We use a reasonable timeout as a proxy for download completion
                setTimeout(() => {
                    if (typeof posthog !== 'undefined') {
                        posthog.capture('app_download_finished', {
                            platform: 'mac',
                            source: 'landing_page',
                            tracking_method: 'timeout_heuristic'
                        });
                    }
                }, 3000); // 3 seconds - reasonable time for download to start/complete for most connections
            });
        }
        
        // ============================================
        // CHECKOUT TRACKING
        // Pass PostHog distinct_id to Lemon Squeezy for user aliasing
        // ============================================
        
        const checkoutBtn = document.querySelector('.lemonsqueezy-button');
        
        if (checkoutBtn) {
            // Determine if running locally or on production
            const isLocalhost = window.location.hostname === 'localhost' || 
                               window.location.hostname === '127.0.0.1' || 
                               window.location.hostname.includes('192.168.');
            
            // Test checkout for local, live checkout for production
            const checkoutId = isLocalhost 
                ? '63bb0aac-935d-4274-b374-0d2987314edc'  // Test checkout
                : '5585ea8e-18e3-4608-ab13-fb9bac5f36c4'; // Live checkout
            
            console.log(`Using ${isLocalhost ? 'TEST' : 'LIVE'} checkout:`, checkoutId);
            
            // Set initial href immediately (without PostHog ID)
            const baseHref = `https://peachsounds.lemonsqueezy.com/checkout/buy/${checkoutId}?embed=1`;
            checkoutBtn.setAttribute('href', baseHref);
            
            // Function to append PostHog ID to checkout URL
            function updateCheckoutUrl() {
                if (typeof posthog !== 'undefined' && posthog.get_distinct_id) {
                    const distinctId = posthog.get_distinct_id();
                    const newHref = `${baseHref}&checkout[custom][posthog_id]=${encodeURIComponent(distinctId)}`;
                    checkoutBtn.setAttribute('href', newHref);
                    console.log('Checkout URL updated with PostHog ID:', distinctId);
                    return true;
                }
                return false;
            }
            
            // Try to update URL immediately, or wait for PostHog to load
            if (!updateCheckoutUrl()) {
                // PostHog not ready, try again after a delay
                const checkInterval = setInterval(() => {
                    if (updateCheckoutUrl()) {
                        clearInterval(checkInterval);
                    }
                }, 500);
                
                // Stop checking after 10 seconds
                setTimeout(() => clearInterval(checkInterval), 10000);
            }
            
            // Track checkout started on click
            checkoutBtn.addEventListener('click', () => {
                // Update URL one more time right before click (in case it wasn't updated)
                updateCheckoutUrl();
                
                if (typeof posthog !== 'undefined') {
                    const distinctId = posthog.get_distinct_id();
                    posthog.capture('checkout_started', {
                        plan: 'pro',
                        price: 9.99,
                        currency: 'USD',
                        billing_period: 'monthly',
                        source: 'landing_page',
                        posthog_distinct_id: distinctId
                    });
                    console.log('PostHog: checkout_started tracked with distinct_id:', distinctId);
                }
            });
        }
        
        // ============================================
        // LEMON SQUEEZY CHECKOUT SUCCESS - IDENTIFY USER
        // This merges the anonymous visitor with their email
        // ============================================
        
        // Hash email function (same as webhook worker)
        async function hashEmailLS(email) {
            const normalized = email.toLowerCase().trim();
            const encoder = new TextEncoder();
            const data = encoder.encode(normalized);
            const hashBuffer = await crypto.subtle.digest('SHA-256', data);
            const hashArray = Array.from(new Uint8Array(hashBuffer));
            return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
        }
        
        // Handle checkout success - called from multiple sources
        async function handleCheckoutSuccess(email, orderData) {
            console.log('handleCheckoutSuccess called with email:', email ? '***' : 'none');
            
            if (!email) {
                console.log('No email provided, cannot identify');
                return;
            }
            
            if (typeof posthog === 'undefined') {
                console.log('PostHog not loaded');
                return;
            }
            
            try {
                const hashedEmail = await hashEmailLS(email);
                const currentDistinctId = posthog.get_distinct_id();
                console.log('Identifying user with hashed email:', hashedEmail);
                console.log('Current distinct_id:', currentDistinctId);
                
                // Create alias to link the current distinct ID to the hashed email
                // This MUST happen before identify() changes the user ID
                posthog.alias(hashedEmail, currentDistinctId);
                
                // Identify the user with the hashed email
                posthog.identify(hashedEmail, {
                    email_hash: hashedEmail,
                    checkout_completed: true
                });
                
                // Capture checkout_completed event
                posthog.capture('checkout_completed_client', {
                    order_id: orderData?.id,
                    total: orderData?.total,
                    currency: orderData?.currency,
                    source: 'landing_page_overlay'
                });
                
                console.log('PostHog: User identified and checkout_completed_client tracked!');
            } catch (err) {
                console.error('Error in handleCheckoutSuccess:', err);
            }
        }
        
        // Method 1: Lemon Squeezy official event setup
        function setupLemonSqueezyEvents() {
            if (typeof window.LemonSqueezy !== 'undefined') {
                console.log('Setting up LemonSqueezy events via API');
                window.LemonSqueezy.Setup({
                    eventHandler: function(event) {
                        console.log('LemonSqueezy API event:', event);
                        if (event.event === 'Checkout.Success' || event === 'Checkout.Success') {
                            const email = event.data?.order?.user_email || event.data?.user_email;
                            handleCheckoutSuccess(email, event.data?.order);
                        }
                    }
                });
            } else {
                console.log('LemonSqueezy not loaded yet, retrying in 500ms');
                setTimeout(setupLemonSqueezyEvents, 500);
            }
        }
        
        // Try to setup after page load
        if (document.readyState === 'complete') {
            setupLemonSqueezyEvents();
        } else {
            window.addEventListener('load', setupLemonSqueezyEvents);
        }
        
        // Listen for Lemon Squeezy checkout events
        window.addEventListener('message', async function(event) {
            // Log ALL messages for debugging
            console.log('PostMessage received:', event.origin, event.data);
            
            // Accept messages from Lemon Squeezy domains
            if (!event.origin.includes('lemonsqueezy.com')) return;
            
            try {
                const data = typeof event.data === 'string' ? JSON.parse(event.data) : event.data;
                
                console.log('Lemon Squeezy event parsed:', data);
                
                // Check for checkout success - try multiple event names
                const eventName = data.event || data.type || data.name || '';
                console.log('Event name:', eventName);
                
                if (eventName.toLowerCase().includes('success') || eventName.toLowerCase().includes('complete')) {
                    console.log('Checkout successful via postMessage!', data);
                    
                    // Get customer email from various possible locations
                    const email = data.data?.order?.user_email 
                        || data.data?.user_email 
                        || data.order?.user_email
                        || data.user_email
                        || data.data?.customer_email
                        || data.customer_email;
                    
                    // Use shared handler
                    handleCheckoutSuccess(email, data.data?.order || data.order);
                }
            } catch (e) {
                // Not a JSON message or not from Lemon Squeezy
            }
        });
    </script>
</body>
</html>

